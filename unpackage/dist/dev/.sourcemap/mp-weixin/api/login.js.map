{"version":3,"file":"login.js","sources":["api/login.js"],"sourcesContent":["import { http } from './api'\r\n\nexport const loginByWeChat = (code) => {\r\n//\tawait uni.request({\r\n//\t    url: http + '/user/loginByWeChat',\r\n//\t    method: 'POST',\r\n//\t    header: {\r\n//\t        'Authorization': uni.getStorageSync('openid')\r\n//\t    },\r\n//\t    success: (res) => {\r\n//          console.log('loginByWeChat: ok')\t\r\n//\t        success(res)\r\n//\t    },\r\n//\t    fail: (res) => {\r\n//\t        fail(res)\r\n//\t    }\r\n//\t})\n  return new Promise((resolve) => {\n    // 模拟成功响应（返回假数据）\n    resolve({\n      code: 200,\n      data: {\n        nickName: '测试用户',\n        token: 'mock-token-123',\n      },\n      msg: '登录成功',\n    });\n  });\n};\r\n\r\nexport const loginByPhone = ({ phone, password }) => {\r\n//\tawait uni.request({\r\n//\t    url: http + '/user/loginByPhone',\r\n//\t    method: 'POST',\r\n//\t    header: {\r\n//\t        'Authorization': uni.getStorageSync('openid')\r\n//\t    },\r\n//\t    success: (res) => {\r\n//          console.log('loginByPhone: ok')\t\r\n//\t        success(res)\r\n//\t    },\r\n//\t    fail: (res) => {\r\n//\t        fail(res)\r\n//\t    }\r\n//\t})\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      // 模拟验证逻辑\n      if (phone === '13800000000' && password === '123456') {\n        resolve({\n          code: 200,\n          data: {\n            nickName: '测试用户',\n            avatar: 'https://mock.image/avatar2.png',\n            token: 'phone-mock-token-456',\n            phone: phone\n          },\n          msg: '登录成功'\n        });\n      } else {\n        resolve({ \n          code: 401, \n          msg: phone.length !== 11 ? '手机号格式错误' : '密码错误' \n        });\n      }\n    }, 600);\n  });\n};"],"names":[],"mappings":";;AAEY,MAAC,gBAAgB,CAAC,SAAS;AAerC,SAAO,IAAI,QAAQ,CAAC,YAAY;AAE9B,YAAQ;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,QACJ,UAAU;AAAA,QACV,OAAO;AAAA,MACR;AAAA,MACD,KAAK;AAAA,IACX,CAAK;AAAA,EACL,CAAG;AACH;AAEY,MAAC,eAAe,CAAC,EAAE,OAAO,eAAe;AAenD,SAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,eAAW,MAAM;AAEf,UAAI,UAAU,iBAAiB,aAAa,UAAU;AACpD,gBAAQ;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,UAAU;AAAA,YACV,QAAQ;AAAA,YACR,OAAO;AAAA,YACP;AAAA,UACD;AAAA,UACD,KAAK;AAAA,QACf,CAAS;AAAA,MACT,OAAa;AACL,gBAAQ;AAAA,UACN,MAAM;AAAA,UACN,KAAK,MAAM,WAAW,KAAK,YAAY;AAAA,QACjD,CAAS;AAAA,MACF;AAAA,IACF,GAAE,GAAG;AAAA,EACV,CAAG;AACH;;;"}