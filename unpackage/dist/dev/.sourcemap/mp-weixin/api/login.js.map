{"version":3,"file":"login.js","sources":["api/login.js"],"sourcesContent":["import { http } from './api'\r\n\r\nexport const loginByWeChat = (code) => {\r\n//\tawait uni.request({\r\n//\t    url: http + '/user/loginByWeChat',\r\n//\t    method: 'POST',\r\n//\t    header: {\r\n//\t        'Authorization': uni.getStorageSync('openid')\r\n//\t    },\r\n//\t    success: (res) => {\r\n//          console.log('loginByWeChat: ok')\t\r\n//\t        success(res)\r\n//\t    },\r\n//\t    fail: (res) => {\r\n//\t        fail(res)\r\n//\t    }\r\n//\t})\r\n  return new Promise((resolve) => {\r\n    // 模拟成功响应（返回假数据）\r\n    resolve({\r\n      code: 200,\r\n      data: {\r\n        nickName: '测试用户',\r\n        token: 'mock-token-123',\r\n      },\r\n      msg: '登录成功',\r\n    });\r\n  });\r\n};\r\n\r\nexport const loginByPhone = ({ phone, password }) => {\r\n//\tawait uni.request({\r\n//\t    url: http + '/user/loginByPhone',\r\n//\t    method: 'POST',\r\n//\t    header: {\r\n//\t        'Authorization': uni.getStorageSync('openid')\r\n//\t    },\r\n//\t    success: (res) => {\r\n//          console.log('loginByPhone: ok')\t\r\n//\t        success(res)\r\n//\t    },\r\n//\t    fail: (res) => {\r\n//\t        fail(res)\r\n//\t    }\r\n//\t})\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      // 模拟验证逻辑\r\n      if (phone === '13800000000' && password === '123456') {\r\n        resolve({\r\n          code: 200,\r\n          data: {\r\n            nickName: '测试用户',\r\n            avatar: 'https://mock.image/avatar2.png',\r\n            token: 'phone-mock-token-456',\r\n            phone: phone\r\n          },\r\n          msg: '登录成功'\r\n        });\r\n      } else {\r\n        resolve({ \r\n          code: 401, \r\n          msg: phone.length !== 11 ? '手机号格式错误' : '密码错误' \r\n        });\r\n      }\r\n    }, 600);\r\n  });\r\n};"],"names":[],"mappings":";;AAEY,MAAC,gBAAgB,CAAC,SAAS;AAerC,SAAO,IAAI,QAAQ,CAAC,YAAY;AAE9B,YAAQ;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,QACJ,UAAU;AAAA,QACV,OAAO;AAAA,MACR;AAAA,MACD,KAAK;AAAA,IACX,CAAK;AAAA,EACL,CAAG;AACH;AAEY,MAAC,eAAe,CAAC,EAAE,OAAO,eAAe;AAenD,SAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,eAAW,MAAM;AAEf,UAAI,UAAU,iBAAiB,aAAa,UAAU;AACpD,gBAAQ;AAAA,UACN,MAAM;AAAA,UACN,MAAM;AAAA,YACJ,UAAU;AAAA,YACV,QAAQ;AAAA,YACR,OAAO;AAAA,YACP;AAAA,UACD;AAAA,UACD,KAAK;AAAA,QACf,CAAS;AAAA,MACT,OAAa;AACL,gBAAQ;AAAA,UACN,MAAM;AAAA,UACN,KAAK,MAAM,WAAW,KAAK,YAAY;AAAA,QACjD,CAAS;AAAA,MACF;AAAA,IACF,GAAE,GAAG;AAAA,EACV,CAAG;AACH;;;"}